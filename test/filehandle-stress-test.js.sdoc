Test for filehandle exhaustion and general performance with small updates

caterwaul.clone('std seq db.file')(function () {
  var db = caterwaul.db.file('test-db');
  var range = fn[n][seq[0 >>>[_ + 1] <<[_ < n]]];

  console.log('single record, many updates');
  seq[range(10000) *!i[db('record')({foo: i})]];
  
  console.log('many records, one update per');
  seq[range(10000) *!i[db()({bar: i})]];
})();
