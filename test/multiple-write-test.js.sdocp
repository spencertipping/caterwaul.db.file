sdocp('test/multiple-write-test.js.sdoc', 'Test for multiple simultaneous writes to the same record\n\ncaterwaul.clone(\'std error iter db.file\')(function () {\n  var db          = caterwaul.db.file(\'test-db\'),\n      long_string = \'c\';\n\n  iter.n[i, 16][long_string += long_string];\n  iter.n[i, 100][db(\'record\')({foo: long_string + i}),\n                 db(\'record#{i}\')({bar: i + long_string})];\n\n  setTimeout(fn_[\n    db(\'record\')(fn[r][error.fail[\'#{r.foo} was not #{long_string + 99}\'], unless[r.foo === long_string + 99]]),\n    iter.n[i, 100][db(\'record#{i}\')(let[k = i] in fn[r][error.fail[\'#{r.bar} was not #{k}#{long_string}\'], unless[r.bar === k + long_string]])]], 2000);\n})();\n');